From: Helmut Grohne <helmut@subdivi.de>
Date: Tue, 21 Nov 2017 21:20:20 +0100
Subject: fix using target-architecture pkg-config

---
 Makefile | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

diff --git a/Makefile b/Makefile
index 11f2836..bd963ca 100644
--- a/Makefile
+++ b/Makefile
@@ -2,6 +2,7 @@
 # DESTDIR is completely respected
 CC := gcc
 AR := ar
+PKG_CONFIG ?= pkg-config
 CFLAGS := -Wall -pthread $(CFLAGS) $(CPPFLAGS)
 XLDFLAGS := $(LDFLAGS)
 LDFLAGS := -L. -lossp -pthread $(LDFLAGS)
@@ -11,27 +12,27 @@ UDEVDIR := /etc/udev/rules.d
 SLAVESDIR := $(prefix)/sbin
 
 ifeq "$(origin OSSPD_CFLAGS)" "undefined"
-OSSPD_CFLAGS := $(shell pkg-config --cflags fuse)
+OSSPD_CFLAGS := $(shell $(PKG_CONFIG) --cflags fuse)
 endif
 
 ifeq "$(origin OSSPD_LDFLAGS)" "undefined"
-OSSPD_LDFLAGS := $(shell pkg-config --libs fuse)
+OSSPD_LDFLAGS := $(shell $(PKG_CONFIG) --libs fuse)
 endif
 
 ifeq "$(origin OSSP_PADSP_CFLAGS)" "undefined"
-OSSP_PADSP_CFLAGS := $(shell pkg-config --cflags libpulse)
+OSSP_PADSP_CFLAGS := $(shell $(PKG_CONFIG) --cflags libpulse)
 endif
 
 ifeq "$(origin OSSP_PADSP_LDFLAGS)" "undefined"
-OSSP_PADSP_LDFLAGS := $(shell pkg-config --libs libpulse)
+OSSP_PADSP_LDFLAGS := $(shell $(PKG_CONFIG) --libs libpulse)
 endif
 
 ifeq "$(origin OSSP_ALSAP_CFLAGS)" "undefined"
-OSSP_ALSAP_CFLAGS := $(shell pkg-config --libs alsa)
+OSSP_ALSAP_CFLAGS := $(shell $(PKG_CONFIG) --libs alsa)
 endif
 
 ifeq "$(origin OSSP_ALSAP_LDFLAGS)" "undefined"
-OSSP_ALSAP_LDFLAGS := $(shell pkg-config --libs alsa)
+OSSP_ALSAP_LDFLAGS := $(shell $(PKG_CONFIG) --libs alsa)
 endif
 
 headers := ossp.h ossp-util.h ossp-slave.h
